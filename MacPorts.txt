ä½¿ç”¨ MacPorts å®‰è£èˆ‡ç®¡ç† Mac OS X ä¸­çš„é–‹æ”¾åŽŸå§‹ç¢¼ï¼ˆOpen Sourceï¼‰è»Ÿé«”

å®‰è£ MacPorts
é¦–å…ˆç¢ºèªæœ‰å®‰è£ Xcode èˆ‡ Command Line Developer Toolsï¼Œè‹¥æ²’æœ‰è«‹å…ˆå®‰è£é€™å…©å€‹å·¥å…·ã€‚
å¦‚æžœæ˜¯å®‰è£ Xcode 4 ä»¥å¾Œçš„ç‰ˆæœ¬ï¼Œåœ¨å®‰è£å®Œæˆå¾Œè¦å…ˆå•“å‹•ä¸€æ¬¡ Xcode ä»¥ä¾¿ç°½ç½² Xcode EULA åŒæ„æ›¸ï¼Œæˆ–æ˜¯åŸ·è¡Œï¼š
$ xcodebuild -license

Command Line Developer Tools å¯ä»¥å¾ž Apple Developer çš„ç¶²ç«™ä¸‹è¼‰
https://developer.apple.com/downloads/

Xcode èˆ‡ Command Line Tools éƒ½è£å¥½ä¹‹å¾Œï¼ŒæŽ¥è‘—å°±å¯ä»¥åˆ° MacPorts ç¶²ç«™ä¸‹è¼‰å®ƒçš„ pkg å®‰è£æª”ã€‚
http://www.macports.org/install.php

åœ¨å®‰è£å®Œæˆå¾Œï¼Œå»ºè­°å…ˆæ›´æ–°ä¸€ä¸‹ï¼Œä»¥ç¢ºä¿è‡ªå·±ç³»çµ±ä¸Šçš„ MacPorts æ˜¯æœ€æ–°çš„ï¼š
$ sudo port -v selfupdate

è‹¥è¦æœå°‹è»Ÿé«”ï¼Œå‰‡ä½¿ç”¨ search åŠ ä¸Šé—œéµå­—æœå°‹ï¼Œé€™æ¨£æœƒå¾žæ‰€æœ‰çš„è»Ÿé«”åç¨±èˆ‡æè¿°ä¸­å°‹æ‰¾ç¬¦åˆçš„è»Ÿé«”ï¼Œä¾‹å¦‚æœå°‹ nodejs å‰‡ä½¿ç”¨ï¼š
$ port search nodejs

è‹¥è¦æŸ¥çœ‹æŸå€‹è»Ÿé«”çš„è³‡è¨Šï¼Œå¯ä½¿ç”¨ infoï¼Œä¾‹å¦‚æŸ¥çœ‹ nodejs çš„è³‡è¨Šå‰‡ä½¿ç”¨ï¼š
$ port info nodejs

æœ‰äº›è»Ÿé«”å¥—ä»¶æœƒç›¸ä¾æ–¼å…¶ä»–å¥—ä»¶ï¼Œè‹¥è¦æŸ¥çœ‹å¥—ä»¶çš„ç›¸ä¾æ€§é—œä¿‚ï¼Œå¯ä»¥ä½¿ç”¨ depsï¼Œä¾‹å¦‚ï¼š
$ port deps nodejs

è‹¥è¦å®‰è£æŒ‡å®šçš„è»Ÿé«”å¥—ä»¶ï¼Œå¯ä½¿ç”¨ installï¼Œä¾‹å¦‚ï¼š
$ sudo port install nodejs

æœ‰äº›å¥—ä»¶æœƒæä¾›ä¸€äº›å®‰è£é¸é …ï¼Œè®“ä½¿ç”¨è€…åœ¨å®‰è£æ™‚å¯ä»¥ä¾ç…§è‡ªå·±çš„éœ€æ±‚èª¿æ•´ï¼Œè‹¥è¦æŸ¥è©¢ä¸€å€‹è»Ÿé«”å¥—ä»¶æ‰€æä¾›çš„é¸é …ï¼Œå¯ä»¥ä½¿ç”¨ variantsï¼Œä¾‹å¦‚ï¼š
$ port variants nmap

å¦‚æžœè¦åœ¨å®‰è£æ™‚æŒ‡å®šä¸€äº› variant å®‰è£é¸é …ï¼Œå‰‡å¯ä»¥ä½¿ç”¨åŠ è™Ÿå†åŠ ä¸Š variant é¸é …åç¨±ï¼Œä¾‹å¦‚ï¼š
$ sudo port install nmap +zenmap

è€Œå¦‚æžœè¦å°‡é è¨­é–‹å•Ÿçš„ variant é¸é …æ‹¿æŽ‰ï¼Œå‰‡ä½¿ç”¨æ¸›è™Ÿå†åŠ ä¸Š variant é¸é …åç¨±ï¼Œä¾‹å¦‚ï¼š
$ sudo port install nmap -zenmap

åœ¨ MacPorts å®‰è£è»Ÿé«”æ™‚ï¼Œæœƒç”¢ç”Ÿä¸€äº›æš«æ™‚æ€§çš„æª”æ¡ˆï¼Œæœ‰æ™‚å€™å¦‚æžœå®‰è£ä¸Šå‡ºäº†ä¸€äº›å•é¡Œï¼Œé€™äº›æª”æ¡ˆå¯èƒ½æœƒæ®˜å­˜åœ¨ç¡¬ç¢Ÿä¸­ï¼ˆä¾‹å¦‚åœ¨ä¸‹è¼‰å¥—ä»¶æ™‚å‡ºå•é¡Œï¼‰ï¼Œå¦‚æžœæƒ³è¦æŠŠé€™äº›æª”æ¡ˆæ¸…ç†ä¹¾æ·¨ï¼Œï¼Œå¯ä»¥ä½¿ç”¨ cleanï¼Œä¾‹å¦‚ï¼š
$ sudo port clean --all vile

é€™è£¡çš„ --all åƒæ•¸æ˜¯æŒ‡æŠŠæ‰€æœ‰èˆ‡ vile å¥—ä»¶ç›¸é—œçš„æª”æ¡ˆéƒ½æ¸…é™¤ä¹¾æ·¨ï¼Œå¦‚æžœæƒ³è¦æ¸…ç†ç‰¹å®šçš„æª”æ¡ˆï¼Œå¯ä»¥æ›æˆå…¶ä»–çš„åƒæ•¸ï¼Œå¯ç”¨çš„æœ‰ --workã€--distã€--archiveã€--logs

è‹¥è¦ç§»é™¤è»Ÿé«”å¥—ä»¶ï¼Œå‰‡ä½¿ç”¨ uninstallï¼Œä¾‹å¦‚ï¼š
$ sudo port uninstall vile

å¦‚æžœè¦é€£åŒè©²å¥—ä»¶çš„ç›¸ä¾æ€§å¥—ä»¶ä¸€èµ·ç§»é™¤ï¼Œå‰‡åŠ ä¸Š â€‘â€‘followâ€‘dependencies åƒæ•¸ï¼Œä¾‹å¦‚ï¼š
$ sudo port uninstall --follow-dependencies vile

é€™é …å°±æœƒæŠŠæ‰€æœ‰åªæœ‰è¢« vile éœ€è¦çš„ç›¸ä¾æ€§å¥—ä»¶éƒ½ä¸€èµ·ç§»é™¤ï¼Œå¦‚æžœä¸€å€‹å¥—ä»¶æ˜¯å±¬æ–¼ vile çš„ç›¸ä¾æ€§å¥—ä»¶ï¼Œä½†åŒæ™‚æ˜¯å…¶ä»–å¥—ä»¶çš„ç›¸ä¾æ€§å¥—ä»¶ï¼Œé‚£éº¼é€™æ¨£çš„å¥—ä»¶å°±æœƒè¢«ä¿ç•™ä¸‹ä¾†ï¼Œæ‰€ä»¥ä¸ç”¨æ“”å¿ƒæœƒç§»é™¤æŽ‰ä¸è©²ç§»é™¤çš„è»Ÿé«”å¥—ä»¶ã€‚

å¦‚æžœåœ¨ç§»é™¤å¥—ä»¶æ™‚ï¼Œè©²å¥—ä»¶é‚„æœƒè¢«å…¶ä»–çš„å¥—ä»¶ä½¿ç”¨åˆ°ï¼Œé‚£éº¼ç³»çµ±å°±æœƒå‡ºç¾è¨Šæ¯å‘Šè¨´ä½ ä¸æ‡‰è©²é€™éº¼åšï¼Œä¸¦ä¸”å–æ¶ˆç§»é™¤çš„å‹•ä½œï¼Œå¦‚æžœä½ æƒ³è¦é€£åŒé‚£äº›æ‰€æœ‰æœƒå½±éŸ¿åˆ°çš„å¥—ä»¶ä¸€èµ·ç§»é™¤ï¼Œå¯ä»¥ä½¿ç”¨ --follow-dependents åƒæ•¸ï¼Œä¾‹å¦‚ï¼š
$ sudo port uninstall --follow-dependents ncurses

é€™æ¨£å°±æœƒæŠŠæ‰€æœ‰éœ€è¦ ncurses çš„å¥—ä»¶éƒ½ä¸€æ¬¡ç§»é™¤æŽ‰ã€‚å¦‚æžœä½ ä¸æƒ³é€™æ¨£åšï¼ŒçœŸçš„åªè¦æŠŠ ncurses é€™å€‹å¥—ä»¶ç§»é™¤å°±å¥½ï¼ˆä¸ç®¡å¥—ä»¶ç›¸ä¾æ€§å•é¡Œï¼‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ -f åƒæ•¸ï¼Œä¾‹å¦‚ï¼š
$ sudo port -f uninstall ncurses

é€™æ¨£å°±æœƒå¿½ç•¥å¥—ä»¶ç›¸ä¾æ€§ï¼Œåªç§»é™¤ ncurses å¥—ä»¶ã€‚


ç§»é™¤ MacPorts
é€šå¸¸åœ¨ä¸€èˆ¬çš„ç‹€æ³ä¸‹æ˜¯ä¸éœ€è¦ç§»é™¤ MacPorts çš„ï¼Œè€Œä¸”é€™ä¹Ÿæ˜¯ä¸€ä»¶æ¯”è¼ƒéº»ç…©çš„äº‹æƒ…ï¼Œå¦‚æžœçœŸçš„è¦ç§»é™¤ MacPortsï¼Œé¦–å…ˆè¦ç§»é™¤æ‰€æœ‰ç¶“ç”± MacPorts å®‰è£çš„è»Ÿé«”ï¼š
$ sudo port -fp uninstall installed

æŽ¥è‘—å†ç§»é™¤ MacPorts æœ¬èº«ï¼Œå¦‚æžœè¦å‚™ä»½è¨­å®šæª”ï¼Œå¯ä»¥æŠŠ ${prefix}/etc å‚™ä»½ä¸‹ä¾†ã€‚
è¦å°‡ MacPorts ç§»é™¤æŽ‰ï¼Œå°±æ˜¯æŠŠæ‰€æœ‰ MacPorts æ‰€å»ºç«‹çš„æª”æ¡ˆåˆªé™¤ï¼Œä¾‹å¦‚ï¼š
$ sudo rm -rf \
/opt/local \
/Applications/DarwinPorts \
/Applications/MacPorts \
/Library/LaunchDaemons/org.macports.* \
/Library/Receipts/DarwinPorts*.pkg \
/Library/Receipts/MacPorts*.pkg \
/Library/StartupItems/DarwinPortsStartup \
/Library/Tcl/darwinports1.0 \
/Library/Tcl/macports1.0 \
~/.macports

è€Œé€™è£¡çš„è·¯å¾‘å¯èƒ½æœƒå› ç‚ºæ¯å€‹ç³»çµ±è€Œä¸åŒï¼Œè«‹ã€Œä¸è¦ã€ç›´æŽ¥ç”¨è¤‡è£½è²¼ä¸Šçš„æ–¹å¼åŸ·è¡Œï¼å¦‚æžœä½ åœ¨ç•¶åˆå®‰è£æ™‚ï¼Œæœ‰æ›´æ”¹ prefix é è¨­çš„å®‰è£è·¯å¾‘ï¼Œå°±è¦æŠŠ /opt/local æ›æˆç•¶åˆè¨­å®šçš„è·¯å¾‘ï¼Œè€Œ applications_dirï¼ˆé è¨­ç‚º /Applications/MacPortsï¼‰ èˆ‡ frameworks_dir ä¹Ÿæ˜¯é¡žä¼¼çš„ç‹€æ³ã€‚

è‹¥è¦æŸ¥è©¢æ›´è©³ç›¡çš„èªªæ˜Žï¼Œå¯ä»¥åƒè€ƒ MacPorts Guide ç¶²ç«™ã€‚
http://guide.macports.org/
$ brew install libzip gcc
Updating Homebrew...
==> Auto-updated Homebrew!
Updated 1 tap (homebrew/core).
==> Updated Formulae
icoutils

==> Downloading https://homebrew.bintray.com/bottles/libzip-1.1.2.mavericks.bott
######################################################################## 100.0%
==> Pouring libzip-1.1.2.mavericks.bottle.tar.gz
ðŸº  /usr/local/Cellar/libzip/1.1.2: 119 files, 466.0KB
==> Installing dependencies for gcc: gmp, mpfr, libmpc, isl
==> Installing gcc dependency: gmp
==> Using the sandbox
==> Downloading https://gmplib.org/download/gmp/gmp-6.1.2.tar.xz
######################################################################## 100.0%
==> ./configure --prefix=/usr/local/Cellar/gmp/6.1.2 --enable-cxx
==> make
==> make check
==> make install
ðŸº  /usr/local/Cellar/gmp/6.1.2: 18 files, 3.2MB, built in 7 minutes 34 seconds
==> Installing gcc dependency: mpfr
==> Downloading https://mirrors.ocf.berkeley.edu/debian/pool/main/m/mpfr4/mpfr4_
######################################################################## 100.0%
==> ./configure --prefix=/usr/local/Cellar/mpfr/3.1.5 --disable-silent-rules
==> make
==> make check
==> make install
ðŸº  /usr/local/Cellar/mpfr/3.1.5: 26 files, 3.6MB, built in 6 minutes 27 seconds
==> Installing gcc dependency: libmpc
==> Downloading https://homebrew.bintray.com/bottles/libmpc-1.0.3.mavericks.bott
######################################################################## 100.0%
==> Pouring libmpc-1.0.3.mavericks.bottle.tar.gz
ðŸº  /usr/local/Cellar/libmpc/1.0.3: 11 files, 350.3KB
==> Installing gcc dependency: isl
==> Downloading http://isl.gforge.inria.fr/isl-0.18.tar.xz
######################################################################## 100.0%
==> ./configure --disable-silent-rules --prefix=/usr/local/Cellar/isl/0.18 --wit
==> make check
==> make install
ðŸº  /usr/local/Cellar/isl/0.18: 80 files, 4MB, built in 3 minutes 3 seconds
==> Installing gcc 
==> Downloading https://ftpmirror.gnu.org/gcc/gcc-6.3.0/gcc-6.3.0.tar.bz2
==> Downloading from http://ftp.yzu.edu.tw/gnu/gcc/gcc-6.3.0/gcc-6.3.0.tar.bz2
######################################################################## 100.0%
==> Downloading https://raw.githubusercontent.com/Homebrew/formula-patches/e9e0e
######################################################################## 100.0%
==> Patching
==> Applying 6.1.0-jit.patch
patching file gcc/jit/Make-lang.in
==> ../configure --build=x86_64-apple-darwin13.4.0 --prefix=/usr/local/Cellar/gc
==> make bootstrap
